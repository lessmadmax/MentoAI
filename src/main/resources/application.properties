spring.application.name=mentoai
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/docs
springdoc.swagger-ui.operationsSorter=alpha
springdoc.swagger-ui.tagsSorter=alpha

server.address=0.0.0.0
server.port=8080

# Keep Render dyno awake (optional override)
# keepalive.url=https://mentoai.onrender.com/healthz
# keepalive.interval-ms=300000

# ✅ OAuth 및 JWT 설정은 application-local.properties 또는 application-prod.properties에서 관리
# 환경 변수 또는 프로파일별 설정 파일을 사용하세요

# ✅ PostgreSQL 사용(Render DATABASE_URL)


# 로컬 개발: spring.profiles.active=local
# 프로덕션: spring.profiles.active=prod
spring.profiles.active=prod


# ✅ JPA 설정
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# 외부 크롤러 설정
external.crawler.python.path=python3
external.crawler.linkareer.path=../Mentoai-DE
external.crawler.schedule.enabled=false
external.crawler.schedule.cron=0 0 2 * * ?

# 데이터 엔지니어링 연동 (필요 시 override)
dataeng.requirements.url=${DATAENG_REQUIREMENTS_URL:}
dataeng.requirements.timeout-ms=${DATAENG_REQUIREMENTS_TIMEOUT_MS:5000}
dataeng.requirements.enabled=${DATAENG_REQUIREMENTS_ENABLED:true}

# UTF-8 인코딩 강제 (한글 로그/요청 본문/로그 깨짐 방지)
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.force=true
server.servlet.encoding.force-response=true
logging.charset.console=UTF-8
logging.charset.file=UTF-8

# DB 연결 시에도 UTF-8 사용 강제
spring.datasource.hikari.connection-init-sql=SET client_encoding TO 'UTF8';

# AI 연동
application.ai.api-key=${AI_INTERNAL_KEY:}

# S3 데이터 적재 설정
aws.s3.ingest.enabled=${AWS_S3_INGEST_ENABLED:false}
aws.s3.ingest.region=${AWS_REGION:ap-northeast-2}
aws.s3.ingest.bucket=${AWS_S3_BUCKET:}
aws.s3.ingest.contest-prefix=${AWS_S3_CONTEST_PREFIX:contest/linkareer/}
aws.s3.ingest.job-prefix=${AWS_S3_JOB_PREFIX:recruit/jobda/}
aws.s3.ingest.max-keys=${AWS_S3_INGEST_MAX_KEYS:200}

